<ion-header>
  <ion-toolbar>
    <ion-title>Log Sleep</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-button expand="block" (click) = "sleepinessClick()">Log Sleepiness</ion-button>
      </ion-col>
    </ion-row>
    <div *ngIf="logSleepiness">
      <ion-row>LOG SLEEPINESS</ion-row>
      <ion-row>
        <ion-range [ticks] = "true" [snaps] = "true" [pin] = "true" min = "1" max = "7"[(ngModel)] = "sleepinessRangeVal"></ion-range>
      </ion-row>
      <ion-row>
        <ion-label *ngFor="let val of ScaleValues; index as i">
          <span *ngIf="i == sleepinessRangeVal">{{i}}: {{val}}</span>
        </ion-label>
      </ion-row>
      <ion-row>
        <ion-item>
          <!-- <ion-label>Enter date</ion-label> -->
          <!-- <ion-input placeholder="Enter date"></ion-input> -->
          <ion-datetime #datetime [(ngModel)] = "sleepinessDate">
            <span slot="title">Enter Log Date and Time</span>
            <ion-buttons slot="buttons">
              <ion-button color="danger" (click)="datetime.reset(resetDate); resetCalDate()">Reset</ion-button>
              <!-- <ion-button color="primary" (click)="datetime.cancel()">Cancel</ion-button> -->
              <ion-button color="primary" (click)="datetime.confirm()">Confirm</ion-button>
            </ion-buttons>
          </ion-datetime>
        </ion-item>
      </ion-row>
      <ion-row class="ion-text-center">
        <ion-col><ion-button color="danger" (click) = "sleepinessCancel()">Cancel</ion-button></ion-col>
        <!-- <ion-col><ion-button color="success" (click) = "sleepinessPopoverTrigger()">Log</ion-button></ion-col> -->
        <ion-col><ion-button color="success" id="open-modal" (click) = "createData()">Log</ion-button></ion-col>
        <ion-modal #modal trigger="open-modal" >
          <ng-template>
            <ion-content>
              <ion-card>
                <ion-card-header>
                  <ion-card-title>Log Sleepiness</ion-card-title>
                  <ion-card-subtitle>Date: {{data.dateString()}}</ion-card-subtitle>
                </ion-card-header>
                <ion-card-content>
                  Summary: {{data.summaryString()}}
                </ion-card-content>
                <ion-button fill="clear" color="danger" (click)="modal.dismiss(); deleteData()">Cancel</ion-button>
                <ion-button fill="clear" color="success" (click)="modal.dismiss(); sleepiness(); sleepinessCancel()">Confirm</ion-button>
              </ion-card>
            </ion-content>
          </ng-template>
        </ion-modal>
      </ion-row>
    </div>
    <ion-row>
      <ion-col>
        <ion-button expand="block" (click) = "overnightClick()">Log Overnight Sleep</ion-button>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="logOvernightSleep">
      LOG OVERNIGHT SLEEP
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer [translucent]="true">
  <ion-toolbar>
    <ion-tabs>
      <ion-router-outlet></ion-router-outlet>
      <ion-tab-bar slot="bottom">
        <ion-tab-button tab="home">
          <ion-icon name="home"></ion-icon>
          Home
        </ion-tab-button>
        <ion-tab-button tab="log">
          <ion-icon name="stopwatch"></ion-icon>
          Log
        </ion-tab-button>
        <ion-tab-button tab="view">
          <ion-icon name="today"></ion-icon>
          View
        </ion-tab-button>
      </ion-tab-bar>
    </ion-tabs>
  </ion-toolbar>
</ion-footer>
